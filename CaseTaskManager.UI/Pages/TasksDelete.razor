@page "/tasks/delete/{Id:int}"

<h3>Delete Task</h3>

@if (isLoading)
{
    <p><em>Loading...</em></p>
}
else if (item is null)
{
    <div class="alert alert-warning">Task not found.</div>
    <button class="btn btn-secondary" @onclick="Cancel">Back</button>
}
else
{
    <div class="alert alert-warning">
        <p>Are you sure you want to delete this task?</p>
        <p class="mb-1"><strong>@item.Title</strong></p>
        <p class="mb-0"><small>Due: @item.DueDate.ToShortDateString()</small></p>
    </div>

    <button class="btn btn-danger me-2" @onclick="ConfirmDelete">Yes, Delete</button>
    <button class="btn btn-secondary" @onclick="Cancel">Cancel</button>

    @if (!string.IsNullOrWhiteSpace(error))
    {
        <div class="alert alert-danger mt-3">@error</div>
    }
}
